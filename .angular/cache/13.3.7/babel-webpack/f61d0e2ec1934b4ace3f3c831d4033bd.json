{"ast":null,"code":"import _regeneratorRuntime from \"/Users/raulmelo/Documents/projetos/design-system/storybook-wyz/node_modules/@babel/runtime/regenerator/index.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.symbol.iterator.js\";\nimport \"core-js/modules/es.array.from.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\n\nvar _templateObject;\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nimport \"regenerator-runtime/runtime.js\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.object.assign.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.promise.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.object.entries.js\";\nimport \"core-js/modules/es.object.freeze.js\";\n\nfunction _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}\n\nimport dedent from 'ts-dedent';\nimport deprecate from 'util-deprecate';\nimport global from 'global';\nimport { includeConditionalArg } from '@storybook/csf';\nimport { combineParameters } from '../parameters';\nimport { applyHooks } from '../hooks';\nimport { defaultDecorateStory } from '../decorators';\nimport { groupArgsByTarget, NO_TARGET_NAME } from '../args';\nimport { getValuesFromArgTypes } from './getValuesFromArgTypes';\nvar argTypeDefaultValueWarning = deprecate(function () {}, dedent(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  `argType.defaultValue` is deprecated and will be removed in Storybook 7.0.\\n\\n  https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#no-longer-inferring-default-values-of-args\"], [\"\\n  \\\\`argType.defaultValue\\\\` is deprecated and will be removed in Storybook 7.0.\\n\\n  https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#no-longer-inferring-default-values-of-args\"])))); // Combine all the metadata about a story (both direct and inherited from the component/global scope)\n// into a \"renderable\" story function, with all decorators applied, parameters passed as context etc\n//\n// Note that this story function is *stateless* in the sense that it does not track args or globals\n// Instead, it is expected these are tracked separately (if necessary) and are passed into each invocation.\n\nexport function prepareStory(storyAnnotations, componentAnnotations, projectAnnotations) {\n  var _global$FEATURES; // NOTE: in the current implementation we are doing everything once, up front, rather than doing\n  // anything at render time. The assumption is that as we don't load all the stories at once, this\n  // will have a limited cost. If this proves misguided, we can refactor it.\n\n\n  var id = storyAnnotations.id,\n      name = storyAnnotations.name;\n  var title = componentAnnotations.title;\n  var parameters = combineParameters(projectAnnotations.parameters, componentAnnotations.parameters, storyAnnotations.parameters);\n  var decorators = [].concat(_toConsumableArray(storyAnnotations.decorators || []), _toConsumableArray(componentAnnotations.decorators || []), _toConsumableArray(projectAnnotations.decorators || [])); // Currently it is only possible to set these globally\n\n  var _projectAnnotations$a = projectAnnotations.applyDecorators,\n      applyDecorators = _projectAnnotations$a === void 0 ? defaultDecorateStory : _projectAnnotations$a,\n      _projectAnnotations$a2 = projectAnnotations.argTypesEnhancers,\n      argTypesEnhancers = _projectAnnotations$a2 === void 0 ? [] : _projectAnnotations$a2,\n      _projectAnnotations$a3 = projectAnnotations.argsEnhancers,\n      argsEnhancers = _projectAnnotations$a3 === void 0 ? [] : _projectAnnotations$a3;\n  var loaders = [].concat(_toConsumableArray(projectAnnotations.loaders || []), _toConsumableArray(componentAnnotations.loaders || []), _toConsumableArray(storyAnnotations.loaders || [])); // The render function on annotations *has* to be an `ArgsStoryFn`, so when we normalize\n  // CSFv1/2, we use a new field called `userStoryFn` so we know that it can be a LegacyStoryFn\n\n  var render = storyAnnotations.userStoryFn || storyAnnotations.render || componentAnnotations.render || projectAnnotations.render;\n  var passedArgTypes = combineParameters(projectAnnotations.argTypes, componentAnnotations.argTypes, storyAnnotations.argTypes);\n  var _parameters$passArgsF = parameters.passArgsFirst,\n      passArgsFirst = _parameters$passArgsF === void 0 ? true : _parameters$passArgsF; // eslint-disable-next-line no-underscore-dangle\n\n  parameters.__isArgsStory = passArgsFirst && render.length > 0; // Pull out args[X] into initialArgs for argTypes enhancers\n\n  var passedArgs = Object.assign({}, projectAnnotations.args, componentAnnotations.args, storyAnnotations.args);\n  var contextForEnhancers = {\n    componentId: componentAnnotations.id,\n    title: title,\n    kind: title,\n    // Back compat\n    id: id,\n    name: name,\n    story: name,\n    // Back compat\n    component: componentAnnotations.component,\n    subcomponents: componentAnnotations.subcomponents,\n    parameters: parameters,\n    initialArgs: passedArgs,\n    argTypes: passedArgTypes\n  };\n  contextForEnhancers.argTypes = argTypesEnhancers.reduce(function (accumulatedArgTypes, enhancer) {\n    return enhancer(Object.assign({}, contextForEnhancers, {\n      argTypes: accumulatedArgTypes\n    }));\n  }, contextForEnhancers.argTypes); // Add argTypes[X].defaultValue to initial args (note this deprecated)\n  // We need to do this *after* the argTypesEnhancers as they may add defaultValues\n\n  var defaultArgs = getValuesFromArgTypes(contextForEnhancers.argTypes);\n\n  if (Object.keys(defaultArgs).length > 0) {\n    argTypeDefaultValueWarning();\n  }\n\n  var initialArgsBeforeEnhancers = Object.assign({}, defaultArgs, passedArgs);\n  contextForEnhancers.initialArgs = argsEnhancers.reduce(function (accumulatedArgs, enhancer) {\n    return Object.assign({}, accumulatedArgs, enhancer(Object.assign({}, contextForEnhancers, {\n      initialArgs: accumulatedArgs\n    })));\n  }, initialArgsBeforeEnhancers); // Add some of our metadata into parameters as we used to do this in 6.x and users may be relying on it\n\n  if (!((_global$FEATURES = global.FEATURES) !== null && _global$FEATURES !== void 0 && _global$FEATURES.breakingChangesV7)) {\n    contextForEnhancers.parameters = Object.assign({}, contextForEnhancers.parameters, {\n      __id: id,\n      globals: projectAnnotations.globals,\n      globalTypes: projectAnnotations.globalTypes,\n      args: contextForEnhancers.initialArgs,\n      argTypes: contextForEnhancers.argTypes\n    });\n  }\n\n  var applyLoaders = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(context) {\n      var loadResults, loaded;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return Promise.all(loaders.map(function (loader) {\n                return loader(context);\n              }));\n\n            case 2:\n              loadResults = _context.sent;\n              loaded = Object.assign.apply(Object, [{}].concat(_toConsumableArray(loadResults)));\n              return _context.abrupt(\"return\", Object.assign({}, context, {\n                loaded: loaded\n              }));\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function applyLoaders(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var undecoratedStoryFn = function undecoratedStoryFn(context) {\n    var mappedArgs = Object.entries(context.args).reduce(function (acc, _ref2) {\n      var _context$argTypes$key;\n\n      var _ref3 = _slicedToArray(_ref2, 2),\n          key = _ref3[0],\n          val = _ref3[1];\n\n      var mapping = (_context$argTypes$key = context.argTypes[key]) === null || _context$argTypes$key === void 0 ? void 0 : _context$argTypes$key.mapping;\n      acc[key] = mapping && val in mapping ? mapping[val] : val;\n      return acc;\n    }, {});\n    var includedArgs = Object.entries(mappedArgs).reduce(function (acc, _ref4) {\n      var _ref5 = _slicedToArray(_ref4, 2),\n          key = _ref5[0],\n          val = _ref5[1];\n\n      var argType = context.argTypes[key] || {};\n      if (includeConditionalArg(argType, mappedArgs, context.globals)) acc[key] = val;\n      return acc;\n    }, {});\n    var includedContext = Object.assign({}, context, {\n      args: includedArgs\n    });\n    var _context$parameters$p = context.parameters.passArgsFirst,\n        renderTimePassArgsFirst = _context$parameters$p === void 0 ? true : _context$parameters$p;\n    return renderTimePassArgsFirst ? render(includedContext.args, includedContext) : render(includedContext);\n  };\n\n  var decoratedStoryFn = applyHooks(applyDecorators)(undecoratedStoryFn, decorators);\n\n  var unboundStoryFn = function unboundStoryFn(context) {\n    var _global$FEATURES2;\n\n    var finalContext = context;\n\n    if ((_global$FEATURES2 = global.FEATURES) !== null && _global$FEATURES2 !== void 0 && _global$FEATURES2.argTypeTargetsV7) {\n      var argsByTarget = groupArgsByTarget(Object.assign({\n        args: context.args\n      }, context));\n      finalContext = Object.assign({}, context, {\n        allArgs: context.args,\n        argsByTarget: argsByTarget,\n        args: argsByTarget[NO_TARGET_NAME] || {}\n      });\n    }\n\n    return decoratedStoryFn(finalContext);\n  };\n\n  var playFunction = storyAnnotations.play;\n  return Object.freeze(Object.assign({}, contextForEnhancers, {\n    originalStoryFn: render,\n    undecoratedStoryFn: undecoratedStoryFn,\n    unboundStoryFn: unboundStoryFn,\n    applyLoaders: applyLoaders,\n    playFunction: playFunction\n  }));\n}","map":{"version":3,"names":["_templateObject","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","_i","Symbol","iterator","_arr","_n","_d","_s","_e","call","next","done","push","value","length","err","Array","isArray","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","error","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","undefined","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","o","minLen","_arrayLikeToArray","n","Object","prototype","toString","slice","constructor","name","from","test","iter","len","arr2","_taggedTemplateLiteral","strings","raw","freeze","defineProperties","dedent","deprecate","global","includeConditionalArg","combineParameters","applyHooks","defaultDecorateStory","groupArgsByTarget","NO_TARGET_NAME","getValuesFromArgTypes","argTypeDefaultValueWarning","prepareStory","storyAnnotations","componentAnnotations","projectAnnotations","_global$FEATURES","id","title","parameters","decorators","concat","_projectAnnotations$a","applyDecorators","_projectAnnotations$a2","argTypesEnhancers","_projectAnnotations$a3","argsEnhancers","loaders","render","userStoryFn","passedArgTypes","argTypes","_parameters$passArgsF","passArgsFirst","__isArgsStory","passedArgs","assign","contextForEnhancers","componentId","kind","story","component","subcomponents","initialArgs","reduce","accumulatedArgTypes","enhancer","defaultArgs","keys","initialArgsBeforeEnhancers","accumulatedArgs","FEATURES","breakingChangesV7","__id","globals","globalTypes","applyLoaders","_ref","mark","_callee","context","loadResults","loaded","wrap","_callee$","_context","prev","all","map","loader","sent","abrupt","stop","_x","undecoratedStoryFn","mappedArgs","entries","acc","_ref2","_context$argTypes$key","_ref3","val","mapping","includedArgs","_ref4","_ref5","argType","includedContext","_context$parameters$p","renderTimePassArgsFirst","decoratedStoryFn","unboundStoryFn","_global$FEATURES2","finalContext","argTypeTargetsV7","argsByTarget","allArgs","playFunction","play","originalStoryFn"],"sources":["/Users/raulmelo/Documents/projetos/design-system/storybook-wyz/node_modules/@storybook/store/dist/esm/csf/prepareStory.js"],"sourcesContent":["import \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.symbol.iterator.js\";\nimport \"core-js/modules/es.array.from.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\n\nvar _templateObject;\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport \"regenerator-runtime/runtime.js\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.object.assign.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.promise.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.object.entries.js\";\nimport \"core-js/modules/es.object.freeze.js\";\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nimport dedent from 'ts-dedent';\nimport deprecate from 'util-deprecate';\nimport global from 'global';\nimport { includeConditionalArg } from '@storybook/csf';\nimport { combineParameters } from '../parameters';\nimport { applyHooks } from '../hooks';\nimport { defaultDecorateStory } from '../decorators';\nimport { groupArgsByTarget, NO_TARGET_NAME } from '../args';\nimport { getValuesFromArgTypes } from './getValuesFromArgTypes';\nvar argTypeDefaultValueWarning = deprecate(function () {}, dedent(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  `argType.defaultValue` is deprecated and will be removed in Storybook 7.0.\\n\\n  https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#no-longer-inferring-default-values-of-args\"], [\"\\n  \\\\`argType.defaultValue\\\\` is deprecated and will be removed in Storybook 7.0.\\n\\n  https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#no-longer-inferring-default-values-of-args\"])))); // Combine all the metadata about a story (both direct and inherited from the component/global scope)\n// into a \"renderable\" story function, with all decorators applied, parameters passed as context etc\n//\n// Note that this story function is *stateless* in the sense that it does not track args or globals\n// Instead, it is expected these are tracked separately (if necessary) and are passed into each invocation.\n\nexport function prepareStory(storyAnnotations, componentAnnotations, projectAnnotations) {\n  var _global$FEATURES;\n\n  // NOTE: in the current implementation we are doing everything once, up front, rather than doing\n  // anything at render time. The assumption is that as we don't load all the stories at once, this\n  // will have a limited cost. If this proves misguided, we can refactor it.\n  var id = storyAnnotations.id,\n      name = storyAnnotations.name;\n  var title = componentAnnotations.title;\n  var parameters = combineParameters(projectAnnotations.parameters, componentAnnotations.parameters, storyAnnotations.parameters);\n  var decorators = [].concat(_toConsumableArray(storyAnnotations.decorators || []), _toConsumableArray(componentAnnotations.decorators || []), _toConsumableArray(projectAnnotations.decorators || [])); // Currently it is only possible to set these globally\n\n  var _projectAnnotations$a = projectAnnotations.applyDecorators,\n      applyDecorators = _projectAnnotations$a === void 0 ? defaultDecorateStory : _projectAnnotations$a,\n      _projectAnnotations$a2 = projectAnnotations.argTypesEnhancers,\n      argTypesEnhancers = _projectAnnotations$a2 === void 0 ? [] : _projectAnnotations$a2,\n      _projectAnnotations$a3 = projectAnnotations.argsEnhancers,\n      argsEnhancers = _projectAnnotations$a3 === void 0 ? [] : _projectAnnotations$a3;\n  var loaders = [].concat(_toConsumableArray(projectAnnotations.loaders || []), _toConsumableArray(componentAnnotations.loaders || []), _toConsumableArray(storyAnnotations.loaders || [])); // The render function on annotations *has* to be an `ArgsStoryFn`, so when we normalize\n  // CSFv1/2, we use a new field called `userStoryFn` so we know that it can be a LegacyStoryFn\n\n  var render = storyAnnotations.userStoryFn || storyAnnotations.render || componentAnnotations.render || projectAnnotations.render;\n  var passedArgTypes = combineParameters(projectAnnotations.argTypes, componentAnnotations.argTypes, storyAnnotations.argTypes);\n  var _parameters$passArgsF = parameters.passArgsFirst,\n      passArgsFirst = _parameters$passArgsF === void 0 ? true : _parameters$passArgsF; // eslint-disable-next-line no-underscore-dangle\n\n  parameters.__isArgsStory = passArgsFirst && render.length > 0; // Pull out args[X] into initialArgs for argTypes enhancers\n\n  var passedArgs = Object.assign({}, projectAnnotations.args, componentAnnotations.args, storyAnnotations.args);\n  var contextForEnhancers = {\n    componentId: componentAnnotations.id,\n    title: title,\n    kind: title,\n    // Back compat\n    id: id,\n    name: name,\n    story: name,\n    // Back compat\n    component: componentAnnotations.component,\n    subcomponents: componentAnnotations.subcomponents,\n    parameters: parameters,\n    initialArgs: passedArgs,\n    argTypes: passedArgTypes\n  };\n  contextForEnhancers.argTypes = argTypesEnhancers.reduce(function (accumulatedArgTypes, enhancer) {\n    return enhancer(Object.assign({}, contextForEnhancers, {\n      argTypes: accumulatedArgTypes\n    }));\n  }, contextForEnhancers.argTypes); // Add argTypes[X].defaultValue to initial args (note this deprecated)\n  // We need to do this *after* the argTypesEnhancers as they may add defaultValues\n\n  var defaultArgs = getValuesFromArgTypes(contextForEnhancers.argTypes);\n\n  if (Object.keys(defaultArgs).length > 0) {\n    argTypeDefaultValueWarning();\n  }\n\n  var initialArgsBeforeEnhancers = Object.assign({}, defaultArgs, passedArgs);\n  contextForEnhancers.initialArgs = argsEnhancers.reduce(function (accumulatedArgs, enhancer) {\n    return Object.assign({}, accumulatedArgs, enhancer(Object.assign({}, contextForEnhancers, {\n      initialArgs: accumulatedArgs\n    })));\n  }, initialArgsBeforeEnhancers); // Add some of our metadata into parameters as we used to do this in 6.x and users may be relying on it\n\n  if (!((_global$FEATURES = global.FEATURES) !== null && _global$FEATURES !== void 0 && _global$FEATURES.breakingChangesV7)) {\n    contextForEnhancers.parameters = Object.assign({}, contextForEnhancers.parameters, {\n      __id: id,\n      globals: projectAnnotations.globals,\n      globalTypes: projectAnnotations.globalTypes,\n      args: contextForEnhancers.initialArgs,\n      argTypes: contextForEnhancers.argTypes\n    });\n  }\n\n  var applyLoaders = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(context) {\n      var loadResults, loaded;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return Promise.all(loaders.map(function (loader) {\n                return loader(context);\n              }));\n\n            case 2:\n              loadResults = _context.sent;\n              loaded = Object.assign.apply(Object, [{}].concat(_toConsumableArray(loadResults)));\n              return _context.abrupt(\"return\", Object.assign({}, context, {\n                loaded: loaded\n              }));\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function applyLoaders(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var undecoratedStoryFn = function undecoratedStoryFn(context) {\n    var mappedArgs = Object.entries(context.args).reduce(function (acc, _ref2) {\n      var _context$argTypes$key;\n\n      var _ref3 = _slicedToArray(_ref2, 2),\n          key = _ref3[0],\n          val = _ref3[1];\n\n      var mapping = (_context$argTypes$key = context.argTypes[key]) === null || _context$argTypes$key === void 0 ? void 0 : _context$argTypes$key.mapping;\n      acc[key] = mapping && val in mapping ? mapping[val] : val;\n      return acc;\n    }, {});\n    var includedArgs = Object.entries(mappedArgs).reduce(function (acc, _ref4) {\n      var _ref5 = _slicedToArray(_ref4, 2),\n          key = _ref5[0],\n          val = _ref5[1];\n\n      var argType = context.argTypes[key] || {};\n      if (includeConditionalArg(argType, mappedArgs, context.globals)) acc[key] = val;\n      return acc;\n    }, {});\n    var includedContext = Object.assign({}, context, {\n      args: includedArgs\n    });\n    var _context$parameters$p = context.parameters.passArgsFirst,\n        renderTimePassArgsFirst = _context$parameters$p === void 0 ? true : _context$parameters$p;\n    return renderTimePassArgsFirst ? render(includedContext.args, includedContext) : render(includedContext);\n  };\n\n  var decoratedStoryFn = applyHooks(applyDecorators)(undecoratedStoryFn, decorators);\n\n  var unboundStoryFn = function unboundStoryFn(context) {\n    var _global$FEATURES2;\n\n    var finalContext = context;\n\n    if ((_global$FEATURES2 = global.FEATURES) !== null && _global$FEATURES2 !== void 0 && _global$FEATURES2.argTypeTargetsV7) {\n      var argsByTarget = groupArgsByTarget(Object.assign({\n        args: context.args\n      }, context));\n      finalContext = Object.assign({}, context, {\n        allArgs: context.args,\n        argsByTarget: argsByTarget,\n        args: argsByTarget[NO_TARGET_NAME] || {}\n      });\n    }\n\n    return decoratedStoryFn(finalContext);\n  };\n\n  var playFunction = storyAnnotations.play;\n  return Object.freeze(Object.assign({}, contextForEnhancers, {\n    originalStoryFn: render,\n    undecoratedStoryFn: undecoratedStoryFn,\n    unboundStoryFn: unboundStoryFn,\n    applyLoaders: applyLoaders,\n    playFunction: playFunction\n  }));\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}